<li class="list-group-item <%= 'list-group-item-warning' if medium.status == 'playing' %> <%= 'list-group-item-secondary' if medium.status == 'completed' %>" 
    id="medium-<%= medium.id %>" 
    data-status="<%= medium.status %>"
    data-media-id="<%= medium.id %>">
  <div class="d-flex justify-content-between align-items-start">
    <div class="d-flex align-items-start">
      <span class="badge bg-primary rounded-pill me-3 mt-1">#<%= medium.position %></span>
      
      <!-- Thumbnail -->
      <% if medium.thumbnail_url.present? %>
        <img src="<%= medium.thumbnail_url %>" alt="Thumbnail" class="me-3 rounded" style="width: 80px; height: 60px; object-fit: cover;">
      <% else %>
        <div class="me-3 rounded bg-light d-flex align-items-center justify-content-center" style="width: 80px; height: 60px;">
          <i class="text-muted">ğŸµ</i>
        </div>
      <% end %>
      
      <!-- Content -->
      <div class="flex-grow-1">
        <div class="d-flex justify-content-between align-items-start">
          <div>
            <h6 class="mb-1">
              <%= medium.display_title.present? ? medium.display_title : medium.title.capitalize %>
            </h6>
            <small class="text-muted d-block mb-2" style="word-break: break-all;">
              <%= truncate(medium.url, length: 50) %>
            </small>
            
            <!-- Badges -->
            <div class="d-flex flex-wrap gap-1">
              <% if medium.status == 'playing' %>
                <span class="badge bg-success">ğŸµ Playing</span>
              <% elsif medium.status == 'queued' %>
                <span class="badge bg-info">â±ï¸ In Queue</span>
              <% elsif medium.status == 'completed' %>
                <span class="badge bg-secondary">âœ… Played</span>
              <% end %>
              
              <span class="badge bg-light text-dark">
                ğŸ“± <%= medium.title.capitalize %>
              </span>
              
              <% if medium.added_by.present? %>
                <span class="badge bg-light text-dark">ğŸ‘¤ <%= medium.added_by %></span>
              <% end %>
            </div>
          </div>
          
          <!-- Controls -->
          <div class="ms-3">
            <%= button_to 'Remove', session_medium_path(@session, medium), method: :delete, remote: true, class: 'btn btn-outline-danger btn-sm', data: { confirm: 'Are you sure?' } %>
          </div>
        </div>
      </div>
    </div>
  </div>
</li>